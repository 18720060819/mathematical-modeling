----------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Program Files\Stata11.1\scoresize.log
  log type:  text
 opened on:  18 Jun 2011, 09:23:38

. set more off

. use caschool.dta

. * dist_code C 地区代码
. * Read_scr -- 平均阅读成绩
. * Math_scr -- 平均数学成绩
. * County -- 县
. * District C 学区
. * gr_span C 年级
. * enrl_tot C总学生数
. * teachers C 总老师数
. * computer C 学校的计算机总数
. * testscr C 平均考试成绩 (= (read_scr+math_scr)/2 )
. * comp_stu C 生均计算机数 ( = computer/enrl_tot)
. * expn_stu C 生均经费
. * str C生师比 (teachers/enrl_tot)
. * el_pct C 英语学习者百分比
. * Meal_pct C 享有午餐补助学生百分比
. * clw_pct C 享有收入援助计划学生百分比
. * aving C 地区平均收入(in $1000's)
. sum str str

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         str |       420    19.64043    1.891812         14       25.8
         str |       420    19.64043    1.891812         14       25.8

. pctile pct_tsc = testscr, nq(20) genp(pctx)

. pctile pct_str = str, nq(20)

. list pctx pct_str pct_tsc in 1/20

     +---------------------------+
     | pctx    pct_str   pct_tsc |
     |---------------------------|
  1. |    5   16.41658    623.15 |
  2. |   10   17.34573   630.375 |
  3. |   15   17.74146     634.1 |
  4. |   20    18.1497   636.975 |
  5. |   25   18.58179       640 |
     |---------------------------|
  6. |   30   18.80982     643.5 |
  7. |   35   19.05785   645.875 |
  8. |   40   19.26605    649.05 |
  9. |   45    19.3945     652.1 |
 10. |   50   19.72321    654.45 |
     |---------------------------|
 11. |   55   19.93005   656.675 |
 12. |   60   20.07934     659.4 |
 13. |   65   20.28437     662.4 |
 14. |   70   20.59594   664.425 |
 15. |   75   20.87183   666.675 |
     |---------------------------|
 16. |   80   21.08237   669.575 |
 17. |   85    21.4304     672.5 |
 18. |   90   21.87561     679.1 |
 19. |   95   22.64514     685.5 |
 20. |    .          .         . |
     +---------------------------+

. cor str testscr
(obs=420)

             |      str  testscr
-------------+------------------
         str |   1.0000
     testscr |  -0.2264   1.0000


. tw (scatter testscr str,sort) (lfit testscr str)

. reg testscr str,r

Linear regression                                      Number of obs =     420
                                                       F(  1,   418) =   19.26
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0512
                                                       Root MSE      =  18.581

------------------------------------------------------------------------------
             |               Robust
     testscr |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         str |  -2.279808   .5194892    -4.39   0.000    -3.300945   -1.258671
       _cons |    698.933   10.36436    67.44   0.000     678.5602    719.3057
------------------------------------------------------------------------------

. gen d=(str<20)

. reg testscr d,r

Linear regression                                      Number of obs =     420
                                                       F(  1,   418) =   16.34
                                                       Prob > F      =  0.0001
                                                       R-squared     =  0.0369
                                                       Root MSE      =  18.721

------------------------------------------------------------------------------
             |               Robust
     testscr |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
           d |    7.37241   1.823578     4.04   0.000     3.787884    10.95694
       _cons |   649.9788   1.322892   491.33   0.000     647.3785    652.5792
------------------------------------------------------------------------------

. 
end of do-file

. clear

. cap log close
